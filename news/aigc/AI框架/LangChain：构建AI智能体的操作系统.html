<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.0">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="keywords" content="AIå…¨æ ˆ,å‰ç«¯å¼€å‘,ç®—æ³•,æ¸¸æˆå¼€å‘,ç‰©è”ç½‘,AIGC"><meta name="author" content="Kevin"><meta name="robots" content="all"><title>LangChainï¼šæ„å»ºAIæ™ºèƒ½ä½“çš„æ“ä½œç³»ç»Ÿ | Kevinçš„æŠ€æœ¯åšå®¢</title><meta name="description" content="ä¸€ä¸ªåœ¨æ³¥æ½­æŒ£æ‰çš„å·¥å…·äºº - æŠ€æœ¯åšå®¢ï¼Œæ¶µç›–AIå…¨æ ˆã€å‰ç«¯å¼€å‘ã€ç®—æ³•ã€æ¸¸æˆå¼€å‘ç­‰é¢†åŸŸ">
    <link rel="preload" href="/assets/style-DIdbiyZF.css" as="style"><link rel="stylesheet" href="/assets/style-DIdbiyZF.css">
    <link rel="modulepreload" href="/assets/app-D2t769wk.js"><link rel="modulepreload" href="/assets/LangChainï¼šæ„å»ºAIæ™ºèƒ½ä½“çš„æ“ä½œç³»ç»Ÿ.html-C3bzLLCa.js"><link rel="modulepreload" href="/assets/LangChainï¼šæ„å»ºAIæ™ºèƒ½ä½“çš„æ“ä½œç³»ç»Ÿ.html-DvHh62wT.js">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.svg" alt="Kevinçš„æŠ€æœ¯åšå®¢"><span class="site-name can-hide">Kevinçš„æŠ€æœ¯åšå®¢</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/learning/" class="" aria-label="ğŸ“š æ·±åº¦å­¦ä¹ "><!--[--><!--]--> ğŸ“š æ·±åº¦å­¦ä¹  <!--[--><!--]--></a></div><div class="navbar-item"><a href="/projects/" class="" aria-label="ğŸ› ï¸ å®æˆ˜é¡¹ç›®"><!--[--><!--]--> ğŸ› ï¸ å®æˆ˜é¡¹ç›® <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview/" class="" aria-label="ğŸ’¡ é¢è¯•å‡†å¤‡"><!--[--><!--]--> ğŸ’¡ é¢è¯•å‡†å¤‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/news/" class="router-link-active" aria-label="ğŸ“° æŠ€æœ¯èµ„è®¯"><!--[--><!--]--> ğŸ“° æŠ€æœ¯èµ„è®¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/essays/" class="" aria-label="ğŸ“ ä¸ªäººéšç¬”"><!--[--><!--]--> ğŸ“ ä¸ªäººéšç¬” <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tags/" class="" aria-label="ğŸ·ï¸ æ ‡ç­¾äº‘"><!--[--><!--]--> ğŸ·ï¸ æ ‡ç­¾äº‘ <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg class="icon" focusable="false" viewBox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="icon" focusable="false" viewBox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/learning/" class="" aria-label="ğŸ“š æ·±åº¦å­¦ä¹ "><!--[--><!--]--> ğŸ“š æ·±åº¦å­¦ä¹  <!--[--><!--]--></a></div><div class="navbar-item"><a href="/projects/" class="" aria-label="ğŸ› ï¸ å®æˆ˜é¡¹ç›®"><!--[--><!--]--> ğŸ› ï¸ å®æˆ˜é¡¹ç›® <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview/" class="" aria-label="ğŸ’¡ é¢è¯•å‡†å¤‡"><!--[--><!--]--> ğŸ’¡ é¢è¯•å‡†å¤‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/news/" class="router-link-active" aria-label="ğŸ“° æŠ€æœ¯èµ„è®¯"><!--[--><!--]--> ğŸ“° æŠ€æœ¯èµ„è®¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/essays/" class="" aria-label="ğŸ“ ä¸ªäººéšç¬”"><!--[--><!--]--> ğŸ“ ä¸ªäººéšç¬” <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tags/" class="" aria-label="ğŸ·ï¸ æ ‡ç­¾äº‘"><!--[--><!--]--> ğŸ·ï¸ æ ‡ç­¾äº‘ <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">AIGCèµ„è®¯ <span class="right arrow"></span></p><ul class="sidebar-item-children" style="display:none;"><!--[--><li><a href="/news/aigc/AI%E6%A1%86%E6%9E%B6/aigc/" class="sidebar-item" aria-label="aigc/"><!--[--><!--]--> aigc/ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="langchain-æ„å»ºaiæ™ºèƒ½ä½“çš„æ“ä½œç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#langchain-æ„å»ºaiæ™ºèƒ½ä½“çš„æ“ä½œç³»ç»Ÿ" aria-hidden="true">#</a> LangChainï¼šæ„å»ºAIæ™ºèƒ½ä½“çš„æ“ä½œç³»ç»Ÿ</h1><blockquote><p>ä»å·¥å…·é“¾åˆ°å¹³å°åŒ–ï¼ŒLangChainå¦‚ä½•æˆä¸ºAIæ™ºèƒ½ä½“çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½</p></blockquote><h2 id="å¼•è¨€" tabindex="-1"><a class="header-anchor" href="#å¼•è¨€" aria-hidden="true">#</a> å¼•è¨€</h2><p>2025å¹´10æœˆï¼Œå¼€æºAIæ™ºèƒ½ä½“æ¡†æ¶LangChainå®£å¸ƒå®Œæˆ1.25äº¿ç¾å…ƒBè½®èèµ„ï¼Œä¼°å€¼è¾¾åˆ°12.5äº¿ç¾å…ƒï¼Œæ­£å¼è·»èº«å…¨çƒç§‘æŠ€ç‹¬è§’å…½è¡Œåˆ—ã€‚è¿™ä¸€é‡Œç¨‹ç¢‘äº‹ä»¶æ ‡å¿—ç€AIæ™ºèƒ½ä½“æ¡†æ¶å·²æˆä¸ºAIåŸºç¡€è®¾æ–½çš„æ ¸å¿ƒèµ›é“ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨LangChainçš„æŠ€æœ¯æ¶æ„ã€æ ¸å¿ƒèƒ½åŠ›ã€åº”ç”¨åœºæ™¯ä»¥åŠå®ƒåœ¨AIæ™ºèƒ½ä½“ç”Ÿæ€ç³»ç»Ÿä¸­çš„é‡è¦åœ°ä½ã€‚</p><h2 id="langchainçš„å‘å±•å†ç¨‹" tabindex="-1"><a class="header-anchor" href="#langchainçš„å‘å±•å†ç¨‹" aria-hidden="true">#</a> LangChainçš„å‘å±•å†ç¨‹</h2><h3 id="_2022å¹´-å¼€æºé¡¹ç›®çš„è¯ç”Ÿ" tabindex="-1"><a class="header-anchor" href="#_2022å¹´-å¼€æºé¡¹ç›®çš„è¯ç”Ÿ" aria-hidden="true">#</a> 2022å¹´ï¼šå¼€æºé¡¹ç›®çš„è¯ç”Ÿ</h3><ul><li><strong>åˆ›å§‹äºº</strong>ï¼šHarrison Chaseï¼ˆæœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆï¼‰</li><li><strong>åˆè¡·</strong>ï¼šè§£å†³å¤§è¯­è¨€æ¨¡å‹ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’çš„ç—›ç‚¹</li><li><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼šæä¾›æ ‡å‡†åŒ–æ¥å£ä¸å·¥å…·é“¾</li></ul><h3 id="_2023å¹´-å…¬å¸åŒ–è½¬å‹" tabindex="-1"><a class="header-anchor" href="#_2023å¹´-å…¬å¸åŒ–è½¬å‹" aria-hidden="true">#</a> 2023å¹´ï¼šå…¬å¸åŒ–è½¬å‹</h3><ul><li><strong>4æœˆ</strong>ï¼šBenchmark Capitalé¢†æŠ•1000ä¸‡ç¾å…ƒç§å­è½®</li><li><strong>4æœˆ</strong>ï¼šçº¢æ‰èµ„æœ¬ä¸»å¯¼2500ä¸‡ç¾å…ƒAè½®ï¼Œä¼°å€¼2äº¿ç¾å…ƒ</li><li><strong>æˆ˜ç•¥è½¬æŠ˜</strong>ï¼šä»å·¥å…·é“¾è½¬å‘æ™ºèƒ½ä½“å¹³å°å»ºè®¾</li></ul><h3 id="_2024-2025å¹´-å¹³å°åŒ–å‡çº§" tabindex="-1"><a class="header-anchor" href="#_2024-2025å¹´-å¹³å°åŒ–å‡çº§" aria-hidden="true">#</a> 2024-2025å¹´ï¼šå¹³å°åŒ–å‡çº§</h3><ul><li><strong>äº§å“çŸ©é˜µ</strong>ï¼šLangChain + LangGraph + LangSmith</li><li><strong>ç”Ÿæ€æ‰©å¼ </strong>ï¼šæ”¯æŒOpenAIã€Anthropicã€Googleç­‰å¤šæ¨¡å‹</li><li><strong>å•†ä¸šåŒ–</strong>ï¼šä¼ä¸šç‰ˆæœåŠ¡ã€å®šåˆ¶åŒ–è§£å†³æ–¹æ¡ˆ</li></ul><h3 id="_2025å¹´-ç‹¬è§’å…½æ—¶åˆ»" tabindex="-1"><a class="header-anchor" href="#_2025å¹´-ç‹¬è§’å…½æ—¶åˆ»" aria-hidden="true">#</a> 2025å¹´ï¼šç‹¬è§’å…½æ—¶åˆ»</h3><ul><li><strong>èèµ„</strong>ï¼š1.25äº¿ç¾å…ƒBè½®ï¼Œä¼°å€¼12.5äº¿ç¾å…ƒ</li><li><strong>æŠ•èµ„æ–¹</strong>ï¼šIVPé¢†æŠ•ï¼ŒCapitalGã€Sapphire VenturesåŠ å…¥</li><li><strong>ç¤¾åŒºè§„æ¨¡</strong>ï¼šGitHub 11.8ä¸‡æ˜Ÿï¼Œ1.94ä¸‡åˆ†æ”¯</li></ul><h2 id="æ ¸å¿ƒæ¶æ„" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒæ¶æ„" aria-hidden="true">#</a> æ ¸å¿ƒæ¶æ„</h2><h3 id="ä¸‰å±‚æ¶æ„è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ä¸‰å±‚æ¶æ„è®¾è®¡" aria-hidden="true">#</a> ä¸‰å±‚æ¶æ„è®¾è®¡</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># LangChainçš„ä¸‰å±‚æ¶æ„</span>
<span class="token keyword">class</span> <span class="token class-name">LangChainArchitecture</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># åº”ç”¨å±‚ï¼šç”¨æˆ·äº¤äº’ä¸ä¸šåŠ¡é€»è¾‘</span>
        self<span class="token punctuation">.</span>application_layer <span class="token operator">=</span> ApplicationLayer<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment"># ç¼–æ’å±‚ï¼šä»»åŠ¡åˆ†è§£ã€å·¥å…·è°ƒç”¨ã€çŠ¶æ€ç®¡ç†</span>
        self<span class="token punctuation">.</span>orchestration_layer <span class="token operator">=</span> OrchestrationLayer<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment"># æ¨ç†å±‚ï¼šæ¨¡å‹æ¨ç†ã€ç”Ÿæˆã€é¢„æµ‹</span>
        self<span class="token punctuation">.</span>inference_layer <span class="token operator">=</span> InferenceLayer<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ ¸å¿ƒç»„ä»¶è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒç»„ä»¶è¯¦è§£" aria-hidden="true">#</a> æ ¸å¿ƒç»„ä»¶è¯¦è§£</h3><h4 id="_1-langchain-æ ¸å¿ƒå·¥å…·é“¾" tabindex="-1"><a class="header-anchor" href="#_1-langchain-æ ¸å¿ƒå·¥å…·é“¾" aria-hidden="true">#</a> 1. LangChainï¼ˆæ ¸å¿ƒå·¥å…·é“¾ï¼‰</h4><p><strong>åŠŸèƒ½æ¨¡å—ï¼š</strong></p><ul><li><strong>Models</strong>ï¼šç»Ÿä¸€çš„å¤§æ¨¡å‹æ¥å£</li><li><strong>Prompts</strong>ï¼šæç¤ºè¯æ¨¡æ¿ç®¡ç†</li><li><strong>Memory</strong>ï¼šè®°å¿†ä¸ä¸Šä¸‹æ–‡ç®¡ç†</li><li><strong>Chains</strong>ï¼šé“¾å¼ä»»åŠ¡ç¼–æ’</li><li><strong>Agents</strong>ï¼šæ™ºèƒ½ä½“æ¡†æ¶</li><li><strong>Tools</strong>ï¼šå·¥å…·è°ƒç”¨æ¥å£</li><li><strong>Indexes</strong>ï¼šå‘é‡æ•°æ®åº“é›†æˆ</li></ul><p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>chains <span class="token keyword">import</span> ConversationChain
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>memory <span class="token keyword">import</span> ConversationBufferMemory
<span class="token keyword">from</span> langchain_openai <span class="token keyword">import</span> ChatOpenAI

<span class="token comment"># åˆ›å»ºå¯¹è¯é“¾</span>
llm <span class="token operator">=</span> ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">,</span> temperature<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span>
memory <span class="token operator">=</span> ConversationBufferMemory<span class="token punctuation">(</span><span class="token punctuation">)</span>

chain <span class="token operator">=</span> ConversationChain<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>llm<span class="token punctuation">,</span>
    memory<span class="token operator">=</span>memory<span class="token punctuation">,</span>
    verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>

<span class="token comment"># æ‰§è¡Œå¯¹è¯</span>
response <span class="token operator">=</span> chain<span class="token punctuation">.</span>predict<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token operator">=</span><span class="token string">&quot;è§£é‡Šé‡å­è®¡ç®—çš„åŸºæœ¬åŸç†&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-langgraph-çŠ¶æ€ç®¡ç†ä¸ç¼–æ’" tabindex="-1"><a class="header-anchor" href="#_2-langgraph-çŠ¶æ€ç®¡ç†ä¸ç¼–æ’" aria-hidden="true">#</a> 2. LangGraphï¼ˆçŠ¶æ€ç®¡ç†ä¸ç¼–æ’ï¼‰</h4><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li><strong>çŠ¶æ€å›¾</strong>ï¼šæœ‰å‘å›¾è¡¨ç¤ºä»»åŠ¡æµç¨‹</li><li><strong>å¾ªç¯ä¸æ¡ä»¶</strong>ï¼šæ”¯æŒå¤æ‚é€»è¾‘åˆ†æ”¯</li><li><strong>å¤šAgentåä½œ</strong>ï¼šAgenté—´é€šä¿¡ä¸åè°ƒ</li><li><strong>æŒä¹…åŒ–</strong>ï¼šçŠ¶æ€ä¿å­˜ä¸æ¢å¤</li></ul><p><strong>æ¶æ„ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langgraph<span class="token punctuation">.</span>graph <span class="token keyword">import</span> StateGraph<span class="token punctuation">,</span> END
<span class="token keyword">from</span> langgraph<span class="token punctuation">.</span>prebuilt <span class="token keyword">import</span> ToolNode

<span class="token comment"># å®šä¹‰çŠ¶æ€</span>
<span class="token keyword">class</span> <span class="token class-name">AgentState</span><span class="token punctuation">:</span>
    messages<span class="token punctuation">:</span> <span class="token builtin">list</span>
    next_agent<span class="token punctuation">:</span> <span class="token builtin">str</span>

<span class="token comment"># åˆ›å»ºçŠ¶æ€å›¾</span>
workflow <span class="token operator">=</span> StateGraph<span class="token punctuation">(</span>AgentState<span class="token punctuation">)</span>

<span class="token comment"># æ·»åŠ èŠ‚ç‚¹</span>
workflow<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token string">&quot;researcher&quot;</span><span class="token punctuation">,</span> researcher_agent<span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token string">&quot;writer&quot;</span><span class="token punctuation">,</span> writer_agent<span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token string">&quot;reviewer&quot;</span><span class="token punctuation">,</span> reviewer_agent<span class="token punctuation">)</span>

<span class="token comment"># å®šä¹‰è¾¹ï¼ˆæ¡ä»¶è·¯ç”±ï¼‰</span>
<span class="token keyword">def</span> <span class="token function">route_to_next</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">&quot;review&quot;</span> <span class="token keyword">in</span> state<span class="token punctuation">.</span>messages<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>content<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">&quot;reviewer&quot;</span>
    <span class="token keyword">elif</span> <span class="token string">&quot;write&quot;</span> <span class="token keyword">in</span> state<span class="token punctuation">.</span>messages<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>content<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">&quot;writer&quot;</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">&quot;researcher&quot;</span>

workflow<span class="token punctuation">.</span>add_conditional_edges<span class="token punctuation">(</span>
    <span class="token string">&quot;researcher&quot;</span><span class="token punctuation">,</span>
    route_to_next<span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;writer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;writer&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;reviewer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;reviewer&quot;</span><span class="token punctuation">,</span>
        END<span class="token punctuation">:</span> END
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-langsmith-æµ‹è¯•ä¸å¯è§‚æµ‹æ€§" tabindex="-1"><a class="header-anchor" href="#_3-langsmith-æµ‹è¯•ä¸å¯è§‚æµ‹æ€§" aria-hidden="true">#</a> 3. LangSmithï¼ˆæµ‹è¯•ä¸å¯è§‚æµ‹æ€§ï¼‰</h4><p><strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p><ul><li><strong>è¿½è¸ª</strong>ï¼šå®Œæ•´çš„è°ƒç”¨é“¾è¿½è¸ª</li><li><strong>è¯„ä¼°</strong>ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•ä¸è¯„ä¼°</li><li><strong>ç›‘æ§</strong>ï¼šæ€§èƒ½æŒ‡æ ‡ç›‘æ§</li><li><strong>è°ƒè¯•</strong>ï¼šäº¤äº’å¼è°ƒè¯•ç¯å¢ƒ</li></ul><p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langsmith <span class="token keyword">import</span> Client

<span class="token comment"># åˆå§‹åŒ–å®¢æˆ·ç«¯</span>
client <span class="token operator">=</span> Client<span class="token punctuation">(</span>api_key<span class="token operator">=</span><span class="token string">&quot;your-api-key&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºè¿½è¸ª</span>
run <span class="token operator">=</span> client<span class="token punctuation">.</span>create_run<span class="token punctuation">(</span>
    project_name<span class="token operator">=</span><span class="token string">&quot;my-agent&quot;</span><span class="token punctuation">,</span>
    inputs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;query&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;åˆ†ææœ€æ–°çš„AIè¶‹åŠ¿&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment"># æŸ¥çœ‹è¿½è¸ªç»“æœ</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>run<span class="token punctuation">.</span>trace<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ ¸å¿ƒèƒ½åŠ›" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒèƒ½åŠ›" aria-hidden="true">#</a> æ ¸å¿ƒèƒ½åŠ›</h2><h3 id="_1-æ¨¡å—åŒ–å·¥å…·åº“" tabindex="-1"><a class="header-anchor" href="#_1-æ¨¡å—åŒ–å·¥å…·åº“" aria-hidden="true">#</a> 1. æ¨¡å—åŒ–å·¥å…·åº“</h3><p><strong>æ”¯æŒçš„å·¥å…·ç±»å‹ï¼š</strong></p><ul><li><strong>æ–‡æ¡£åŠ è½½å™¨</strong>ï¼šPDFã€Wordã€Excelã€Markdownç­‰20+æ ¼å¼</li><li><strong>å‘é‡æ•°æ®åº“</strong>ï¼šChromaã€FAISSã€Pineconeç­‰</li><li><strong>APIé›†æˆ</strong>ï¼šOpenAIã€HuggingFaceã€è‡ªå®šä¹‰API</li><li><strong>Webå·¥å…·</strong>ï¼šæœç´¢ã€çˆ¬è™«ã€APIè°ƒç”¨</li></ul><p><strong>å·¥å…·é›†æˆç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>tools <span class="token keyword">import</span> Tool
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>utilities <span class="token keyword">import</span> SerpAPIWrapper

<span class="token comment"># åˆ›å»ºæœç´¢å·¥å…·</span>
search <span class="token operator">=</span> SerpAPIWrapper<span class="token punctuation">(</span><span class="token punctuation">)</span>
search_tool <span class="token operator">=</span> Tool<span class="token punctuation">(</span>
    name<span class="token operator">=</span><span class="token string">&quot;Search&quot;</span><span class="token punctuation">,</span>
    func<span class="token operator">=</span>search<span class="token punctuation">.</span>run<span class="token punctuation">,</span>
    description<span class="token operator">=</span><span class="token string">&quot;æœç´¢äº’è”ç½‘è·å–æœ€æ–°ä¿¡æ¯&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºè®¡ç®—å™¨å·¥å…·</span>
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>tools <span class="token keyword">import</span> StructuredTool
<span class="token keyword">from</span> calculator <span class="token keyword">import</span> Calculator

calc <span class="token operator">=</span> StructuredTool<span class="token punctuation">.</span>from_function<span class="token punctuation">(</span>
    Calculator<span class="token punctuation">.</span>calculate<span class="token punctuation">,</span>
    name<span class="token operator">=</span><span class="token string">&quot;Calculator&quot;</span><span class="token punctuation">,</span>
    description<span class="token operator">=</span><span class="token string">&quot;æ‰§è¡Œæ•°å­¦è®¡ç®—&quot;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-å¤šæ¨¡å‹æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#_2-å¤šæ¨¡å‹æ”¯æŒ" aria-hidden="true">#</a> 2. å¤šæ¨¡å‹æ”¯æŒ</h3><p><strong>æ”¯æŒçš„æ¨¡å‹æä¾›å•†ï¼š</strong></p><ul><li>OpenAIï¼šGPT-4ã€GPT-3.5ã€GPT-5.2</li><li>Anthropicï¼šClaude 3ã€Claude 4</li><li>Googleï¼šGemini 2.5ã€Gemini 3</li><li>å¼€æºæ¨¡å‹ï¼šLlama 3ã€Qwen3ã€DeepSeek</li><li>æœ¬åœ°æ¨¡å‹ï¼šOllamaã€vLLM</li></ul><p><strong>æ¨¡å‹åˆ‡æ¢ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain_openai <span class="token keyword">import</span> ChatOpenAI
<span class="token keyword">from</span> langchain_anthropic <span class="token keyword">import</span> ChatAnthropic
<span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>llms <span class="token keyword">import</span> HuggingFacePipeline

<span class="token comment"># åˆ‡æ¢ä¸åŒæ¨¡å‹</span>
<span class="token keyword">def</span> <span class="token function">get_model</span><span class="token punctuation">(</span>provider<span class="token operator">=</span><span class="token string">&quot;openai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> provider <span class="token operator">==</span> <span class="token string">&quot;openai&quot;</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> provider <span class="token operator">==</span> <span class="token string">&quot;anthropic&quot;</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> ChatAnthropic<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;claude-3-opus&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> provider <span class="token operator">==</span> <span class="token string">&quot;local&quot;</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> HuggingFacePipeline<span class="token punctuation">.</span>from_model_id<span class="token punctuation">(</span>
            <span class="token string">&quot;meta-llama/Llama-3-8B&quot;</span>
        <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-rag-æ£€ç´¢å¢å¼ºç”Ÿæˆ" tabindex="-1"><a class="header-anchor" href="#_3-rag-æ£€ç´¢å¢å¼ºç”Ÿæˆ" aria-hidden="true">#</a> 3. RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</h3><p><strong>RAGæ¶æ„ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>chains <span class="token keyword">import</span> RetrievalQA
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>document_loaders <span class="token keyword">import</span> TextLoader
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>text_splitter <span class="token keyword">import</span> RecursiveCharacterTextSplitter
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>embeddings <span class="token keyword">import</span> OpenAIEmbeddings
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>vectorstores <span class="token keyword">import</span> Chroma

<span class="token comment"># åŠ è½½æ–‡æ¡£</span>
loader <span class="token operator">=</span> TextLoader<span class="token punctuation">(</span><span class="token string">&quot;knowledge_base.txt&quot;</span><span class="token punctuation">)</span>
documents <span class="token operator">=</span> loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># åˆ†å‰²æ–‡æ¡£</span>
text_splitter <span class="token operator">=</span> RecursiveCharacterTextSplitter<span class="token punctuation">(</span>
    chunk_size<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span>
    chunk_overlap<span class="token operator">=</span><span class="token number">200</span>
<span class="token punctuation">)</span>
splits <span class="token operator">=</span> text_splitter<span class="token punctuation">.</span>split_documents<span class="token punctuation">(</span>documents<span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºå‘é‡æ•°æ®åº“</span>
embeddings <span class="token operator">=</span> OpenAIEmbeddings<span class="token punctuation">(</span><span class="token punctuation">)</span>
vectorstore <span class="token operator">=</span> Chroma<span class="token punctuation">.</span>from_documents<span class="token punctuation">(</span>
    documents<span class="token operator">=</span>splits<span class="token punctuation">,</span>
    embedding<span class="token operator">=</span>embeddings
<span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºRAGé“¾</span>
retriever <span class="token operator">=</span> vectorstore<span class="token punctuation">.</span>as_retriever<span class="token punctuation">(</span><span class="token punctuation">)</span>
qa_chain <span class="token operator">=</span> RetrievalQA<span class="token punctuation">.</span>from_chain_type<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>ChatOpenAI<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    chain_type<span class="token operator">=</span><span class="token string">&quot;stuff&quot;</span><span class="token punctuation">,</span>
    retriever<span class="token operator">=</span>retriever
<span class="token punctuation">)</span>

<span class="token comment"># æŸ¥è¯¢</span>
result <span class="token operator">=</span> qa_chain<span class="token punctuation">.</span>invoke<span class="token punctuation">(</span><span class="token string">&quot;ä»€ä¹ˆæ˜¯LangChainï¼Ÿ&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-agentæ™ºèƒ½ä½“" tabindex="-1"><a class="header-anchor" href="#_4-agentæ™ºèƒ½ä½“" aria-hidden="true">#</a> 4. Agentæ™ºèƒ½ä½“</h3><p><strong>Agentç±»å‹ï¼š</strong></p><h4 id="_1-react-agent-æ¨ç†-è¡ŒåŠ¨" tabindex="-1"><a class="header-anchor" href="#_1-react-agent-æ¨ç†-è¡ŒåŠ¨" aria-hidden="true">#</a> 1. ReAct Agentï¼ˆæ¨ç†+è¡ŒåŠ¨ï¼‰</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>agents <span class="token keyword">import</span> AgentExecutor<span class="token punctuation">,</span> create_react_agent
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>tools <span class="token keyword">import</span> Tool

<span class="token comment"># å®šä¹‰Agent</span>
agent <span class="token operator">=</span> create_react_agent<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    tools<span class="token operator">=</span><span class="token punctuation">[</span>search_tool<span class="token punctuation">,</span> calc_tool<span class="token punctuation">]</span><span class="token punctuation">,</span>
    verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>

agent_executor <span class="token operator">=</span> AgentExecutor<span class="token punctuation">.</span>from_agent_and_tools<span class="token punctuation">(</span>
    agent<span class="token operator">=</span>agent<span class="token punctuation">,</span>
    tools<span class="token operator">=</span><span class="token punctuation">[</span>search_tool<span class="token punctuation">,</span> calc_tool<span class="token punctuation">]</span><span class="token punctuation">,</span>
    verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>

<span class="token comment"># æ‰§è¡Œä»»åŠ¡</span>
result <span class="token operator">=</span> agent_executor<span class="token punctuation">.</span>invoke<span class="token punctuation">(</span>
    <span class="token string">&quot;è®¡ç®—2025å¹´AIå¸‚åœºçš„å¢é•¿ç‡ï¼Œå¹¶æœç´¢ç›¸å…³æ•°æ®&quot;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-openai-functions-agent" tabindex="-1"><a class="header-anchor" href="#_2-openai-functions-agent" aria-hidden="true">#</a> 2. OpenAI Functions Agent</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>agents <span class="token keyword">import</span> create_openai_functions_agent

agent <span class="token operator">=</span> create_openai_functions_agent<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    functions<span class="token operator">=</span><span class="token punctuation">[</span>search_tool<span class="token punctuation">,</span> calc_tool<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-è‡ªå®šä¹‰agent" tabindex="-1"><a class="header-anchor" href="#_3-è‡ªå®šä¹‰agent" aria-hidden="true">#</a> 3. è‡ªå®šä¹‰Agent</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>agents <span class="token keyword">import</span> AgentExecutor<span class="token punctuation">,</span> Agent
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>tools <span class="token keyword">import</span> BaseTool

<span class="token keyword">class</span> <span class="token class-name">CustomTool</span><span class="token punctuation">(</span>BaseTool<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token string">&quot;custom_tool&quot;</span>
    description <span class="token operator">=</span> <span class="token string">&quot;è‡ªå®šä¹‰å·¥å…·æè¿°&quot;</span>
    
    <span class="token keyword">def</span> <span class="token function">_run</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> query<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># è‡ªå®šä¹‰é€»è¾‘</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;å¤„ç†ç»“æœ: </span><span class="token interpolation"><span class="token punctuation">{</span>query<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>

<span class="token comment"># åˆ›å»ºè‡ªå®šä¹‰Agent</span>
<span class="token keyword">class</span> <span class="token class-name">CustomAgent</span><span class="token punctuation">(</span>Agent<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tools<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>tools <span class="token operator">=</span> tools
        self<span class="token punctuation">.</span>llm <span class="token operator">=</span> ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">plan</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> task<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># ä»»åŠ¡è§„åˆ’</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>llm<span class="token punctuation">.</span>predict<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;è§„åˆ’ä»»åŠ¡: </span><span class="token interpolation"><span class="token punctuation">{</span>task<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> plan<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># æ‰§è¡Œè®¡åˆ’</span>
        <span class="token keyword">for</span> step <span class="token keyword">in</span> plan<span class="token punctuation">:</span>
            tool <span class="token operator">=</span> self<span class="token punctuation">.</span>select_tool<span class="token punctuation">(</span>step<span class="token punctuation">)</span>
            result <span class="token operator">=</span> tool<span class="token punctuation">.</span>run<span class="token punctuation">(</span>step<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åº”ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯" aria-hidden="true">#</a> åº”ç”¨åœºæ™¯</h2><h3 id="_1-ä¼ä¸šçº§çŸ¥è¯†åº“é—®ç­”" tabindex="-1"><a class="header-anchor" href="#_1-ä¼ä¸šçº§çŸ¥è¯†åº“é—®ç­”" aria-hidden="true">#</a> 1. ä¼ä¸šçº§çŸ¥è¯†åº“é—®ç­”</h3><p><strong>æ¶æ„ï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ç”¨æˆ·æŸ¥è¯¢ â†’ RAGç³»ç»Ÿ â†’ å‘é‡æ£€ç´¢ â†’ ç­”æ¡ˆç”Ÿæˆ â†’ ç»“æœè¿”å›
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å®ç°ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>chains <span class="token keyword">import</span> ConversationalRetrievalChain
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>memory <span class="token keyword">import</span> ConversationBufferMemory

<span class="token comment"># åˆ›å»ºå¯¹è¯å¼RAG</span>
qa_chain <span class="token operator">=</span> ConversationalRetrievalChain<span class="token punctuation">.</span>from_llm<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    retriever<span class="token operator">=</span>vectorstore<span class="token punctuation">.</span>as_retriever<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    memory<span class="token operator">=</span>ConversationBufferMemory<span class="token punctuation">(</span>
        memory_key<span class="token operator">=</span><span class="token string">&quot;chat_history&quot;</span><span class="token punctuation">,</span>
        return_messages<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æ–‡æ¡£åˆ†æä¸æ‘˜è¦" tabindex="-1"><a class="header-anchor" href="#_2-æ–‡æ¡£åˆ†æä¸æ‘˜è¦" aria-hidden="true">#</a> 2. æ–‡æ¡£åˆ†æä¸æ‘˜è¦</h3><p><strong>åŠŸèƒ½ï¼š</strong></p><ul><li>é•¿æ–‡æ¡£æ‘˜è¦</li><li>å…³é”®ä¿¡æ¯æå–</li><li>è·¨æ–‡æ¡£é—®ç­”</li></ul><p><strong>å®ç°ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>chains<span class="token punctuation">.</span>summarize <span class="token keyword">import</span> load_summarize_chain
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>doc_loaders <span class="token keyword">import</span> PyPDFLoader

<span class="token comment"># åŠ è½½PDFæ–‡æ¡£</span>
loader <span class="token operator">=</span> PyPDFLoader<span class="token punctuation">(</span><span class="token string">&quot;document.pdf&quot;</span><span class="token punctuation">)</span>
documents <span class="token operator">=</span> loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºæ‘˜è¦é“¾</span>
summarize_chain <span class="token operator">=</span> load_summarize_chain<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    chain_type<span class="token operator">=</span><span class="token string">&quot;map_reduce&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment"># ç”Ÿæˆæ‘˜è¦</span>
summary <span class="token operator">=</span> summarize_chain<span class="token punctuation">.</span>run<span class="token punctuation">(</span>documents<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-ä»£ç ç”Ÿæˆä¸å®¡æŸ¥" tabindex="-1"><a class="header-anchor" href="#_3-ä»£ç ç”Ÿæˆä¸å®¡æŸ¥" aria-hidden="true">#</a> 3. ä»£ç ç”Ÿæˆä¸å®¡æŸ¥</h3><p><strong>åŠŸèƒ½ï¼š</strong></p><ul><li>ä»£ç ç”Ÿæˆ</li><li>ä»£ç å®¡æŸ¥</li><li>Bugæ£€æµ‹</li><li>ä»£ç ä¼˜åŒ–</li></ul><p><strong>å®ç°ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>chains <span class="token keyword">import</span> LLMChain
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>prompts <span class="token keyword">import</span> PromptTemplate

<span class="token comment"># åˆ›å»ºä»£ç ç”Ÿæˆé“¾</span>
code_prompt <span class="token operator">=</span> PromptTemplate<span class="token punctuation">(</span>
    input_variables<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;language&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;task&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    template<span class="token operator">=</span><span class="token string">&quot;ç”¨{language}ç¼–å†™ä»£ç ï¼š{task}&quot;</span>
<span class="token punctuation">)</span>

code_chain <span class="token operator">=</span> LLMChain<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>ChatOpenAI<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    prompt<span class="token operator">=</span>code_prompt
<span class="token punctuation">)</span>

<span class="token comment"># ç”Ÿæˆä»£ç </span>
code <span class="token operator">=</span> code_chain<span class="token punctuation">.</span>run<span class="token punctuation">(</span>
    language<span class="token operator">=</span><span class="token string">&quot;Python&quot;</span><span class="token punctuation">,</span>
    task<span class="token operator">=</span><span class="token string">&quot;å®ç°ä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•&quot;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-å¤šagentåä½œç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#_4-å¤šagentåä½œç³»ç»Ÿ" aria-hidden="true">#</a> 4. å¤šAgentåä½œç³»ç»Ÿ</h3><p><strong>åœºæ™¯ï¼š</strong></p><ul><li>å¤æ‚ä»»åŠ¡åˆ†è§£</li><li>ä¸“ä¸šAgentåˆ†å·¥</li><li>ç»“æœæ•´åˆ</li></ul><p><strong>å®ç°ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langgraph<span class="token punctuation">.</span>graph <span class="token keyword">import</span> StateGraph

<span class="token comment"># åˆ›å»ºå¤šAgentåä½œç³»ç»Ÿ</span>
workflow <span class="token operator">=</span> StateGraph<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># æ·»åŠ ä¸“ä¸šAgent</span>
workflow<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token string">&quot;researcher&quot;</span><span class="token punctuation">,</span> research_agent<span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token string">&quot;developer&quot;</span><span class="token punctuation">,</span> developer_agent<span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token string">&quot;tester&quot;</span><span class="token punctuation">,</span> tester_agent<span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token string">&quot;manager&quot;</span><span class="token punctuation">,</span> manager_agent<span class="token punctuation">)</span>

<span class="token comment"># å®šä¹‰åä½œæµç¨‹</span>
workflow<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span><span class="token string">&quot;manager&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;researcher&quot;</span><span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span><span class="token string">&quot;researcher&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;developer&quot;</span><span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span><span class="token string">&quot;developer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tester&quot;</span><span class="token punctuation">)</span>
workflow<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span><span class="token string">&quot;tester&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;manager&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®æˆ˜æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜æ¡ˆä¾‹" aria-hidden="true">#</a> å®æˆ˜æ¡ˆä¾‹</h2><h3 id="æ¡ˆä¾‹1-vodafoneæ•°æ®è¿è¥é©å‘½" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹1-vodafoneæ•°æ®è¿è¥é©å‘½" aria-hidden="true">#</a> æ¡ˆä¾‹1ï¼šVodafoneæ•°æ®è¿è¥é©å‘½</h3><p><strong>èƒŒæ™¯ï¼š</strong></p><ul><li>æœåŠ¡3.4äº¿ç”¨æˆ·</li><li>300TBå®æ—¶æ•°æ®</li><li>5000æŠ€æœ¯æ–‡æ¡£</li><li>200ç±»ç›‘æµ‹æŒ‡æ ‡</li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># æ™ºèƒ½ä»ªè¡¨ç›˜</span>
<span class="token keyword">class</span> <span class="token class-name">InsightEngine</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nl2sql <span class="token operator">=</span> NL2SQLChain<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>visualizer <span class="token operator">=</span> ChartGenerator<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">process_query</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> query<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># è‡ªç„¶è¯­è¨€è½¬SQL</span>
        sql <span class="token operator">=</span> self<span class="token punctuation">.</span>nl2sql<span class="token punctuation">.</span>run<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
        <span class="token comment"># æ‰§è¡ŒæŸ¥è¯¢</span>
        data <span class="token operator">=</span> self<span class="token punctuation">.</span>execute_sql<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
        <span class="token comment"># ç”Ÿæˆå¯è§†åŒ–</span>
        chart <span class="token operator">=</span> self<span class="token punctuation">.</span>visualizer<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token keyword">return</span> chart

<span class="token comment"># æ–‡æ¡£æœç´¢å¼•æ“</span>
<span class="token keyword">class</span> <span class="token class-name">Enigma</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>vector_store <span class="token operator">=</span> Chroma<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>rag_pipeline <span class="token operator">=</span> RAGPipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> query<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># å‘é‡æ£€ç´¢</span>
        docs <span class="token operator">=</span> self<span class="token punctuation">.</span>vector_store<span class="token punctuation">.</span>similarity_search<span class="token punctuation">(</span>query<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token comment"># RAGå¢å¼º</span>
        answer <span class="token operator">=</span> self<span class="token punctuation">.</span>rag_pipeline<span class="token punctuation">.</span>run<span class="token punctuation">(</span>query<span class="token punctuation">,</span> docs<span class="token punctuation">)</span>
        <span class="token keyword">return</span> answer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ•ˆæœï¼š</strong></p><ul><li>æ•…éšœè¯Šæ–­æ—¶é—´ï¼š45åˆ†é’Ÿ â†’ 15åˆ†é’Ÿ</li><li>å·¥ç¨‹å¸ˆæ•ˆç‡ï¼šæå‡300%</li><li>å¼‚å¸¸æ£€æµ‹å‡†ç¡®ç‡ï¼šæå‡68%</li></ul><h3 id="æ¡ˆä¾‹2-æ™ºèƒ½å®¢æœç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹2-æ™ºèƒ½å®¢æœç³»ç»Ÿ" aria-hidden="true">#</a> æ¡ˆä¾‹2ï¼šæ™ºèƒ½å®¢æœç³»ç»Ÿ</h3><p><strong>æ¶æ„ï¼š</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>agents <span class="token keyword">import</span> AgentExecutor
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>tools <span class="token keyword">import</span> Tool

<span class="token keyword">class</span> <span class="token class-name">CustomerServiceAgent</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>knowledge_base <span class="token operator">=</span> VectorStore<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>order_system <span class="token operator">=</span> OrderSystemTool<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ticket_system <span class="token operator">=</span> TicketSystemTool<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
    <span class="token keyword">def</span> <span class="token function">handle_query</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> query<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># æ„å›¾è¯†åˆ«</span>
        intent <span class="token operator">=</span> self<span class="token punctuation">.</span>classify_intent<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
        
        <span class="token comment"># è·¯ç”±åˆ°ç›¸åº”å·¥å…·</span>
        <span class="token keyword">if</span> intent <span class="token operator">==</span> <span class="token string">&quot;order&quot;</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>order_system<span class="token punctuation">.</span>handle<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> intent <span class="token operator">==</span> <span class="token string">&quot;ticket&quot;</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>ticket_system<span class="token punctuation">.</span>handle<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># RAGå¢å¼ºå›ç­”</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>rag_answer<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½ä¼˜åŒ–" aria-hidden="true">#</a> æ€§èƒ½ä¼˜åŒ–</h2><h3 id="_1-ç¼“å­˜æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-ç¼“å­˜æœºåˆ¶" aria-hidden="true">#</a> 1. ç¼“å­˜æœºåˆ¶</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>cache <span class="token keyword">import</span> InMemoryCache

<span class="token comment"># å¯ç”¨ç¼“å­˜</span>
cache <span class="token operator">=</span> InMemoryCache<span class="token punctuation">(</span><span class="token punctuation">)</span>

chain <span class="token operator">=</span> ConversationChain<span class="token punctuation">(</span>
    llm<span class="token operator">=</span>llm<span class="token punctuation">,</span>
    cache<span class="token operator">=</span>cache
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æ‰¹å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_2-æ‰¹å¤„ç†" aria-hidden="true">#</a> 2. æ‰¹å¤„ç†</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>batch <span class="token keyword">import</span> BatchManager

<span class="token comment"># æ‰¹é‡å¤„ç†</span>
batch_manager <span class="token operator">=</span> BatchManager<span class="token punctuation">(</span><span class="token punctuation">)</span>

queries <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;ä»€ä¹ˆæ˜¯AIï¼Ÿ&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ï¼Ÿ&quot;</span>
<span class="token punctuation">]</span>

results <span class="token operator">=</span> batch_manager<span class="token punctuation">.</span>batch_run<span class="token punctuation">(</span>chain<span class="token punctuation">,</span> queries<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-å¼‚æ­¥æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#_3-å¼‚æ­¥æ‰§è¡Œ" aria-hidden="true">#</a> 3. å¼‚æ­¥æ‰§è¡Œ</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> asyncio

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">async_chain_run</span><span class="token punctuation">(</span>chain<span class="token punctuation">,</span> input_text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> chain<span class="token punctuation">.</span>arun<span class="token punctuation">(</span>input_text<span class="token punctuation">)</span>

<span class="token comment"># å¹¶å‘æ‰§è¡Œ</span>
results <span class="token operator">=</span> <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>gather<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>
    async_chain_run<span class="token punctuation">(</span>chain<span class="token punctuation">,</span> query<span class="token punctuation">)</span>
    <span class="token keyword">for</span> query <span class="token keyword">in</span> queries
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®‰å…¨ä¸æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#å®‰å…¨ä¸æœ€ä½³å®è·µ" aria-hidden="true">#</a> å®‰å…¨ä¸æœ€ä½³å®è·µ</h2><h3 id="_1-æç¤ºæ³¨å…¥é˜²æŠ¤" tabindex="-1"><a class="header-anchor" href="#_1-æç¤ºæ³¨å…¥é˜²æŠ¤" aria-hidden="true">#</a> 1. æç¤ºæ³¨å…¥é˜²æŠ¤</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>prompts <span class="token keyword">import</span> PromptTemplate

<span class="token comment"># ä½¿ç”¨å®‰å…¨çš„æç¤ºæ¨¡æ¿</span>
safe_prompt <span class="token operator">=</span> PromptTemplate<span class="token punctuation">(</span>
    template<span class="token operator">=</span><span class="token string">&quot;è¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š{question}&quot;</span><span class="token punctuation">,</span>
    input_variables<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;question&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span>

<span class="token comment"># è¾“å…¥éªŒè¯</span>
<span class="token keyword">def</span> <span class="token function">validate_input</span><span class="token punctuation">(</span>input_text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># æ£€æŸ¥æ¶æ„è¾“å…¥</span>
    <span class="token keyword">if</span> <span class="token string">&quot;&lt;script&gt;&quot;</span> <span class="token keyword">in</span> input_text<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">&quot;æ£€æµ‹åˆ°æ½œåœ¨æ¶æ„è¾“å…¥&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> input_text
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-apiå¯†é’¥ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_2-apiå¯†é’¥ç®¡ç†" aria-hidden="true">#</a> 2. APIå¯†é’¥ç®¡ç†</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">from</span> dotenv <span class="token keyword">import</span> load_dotenv

<span class="token comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># ä½¿ç”¨ç¯å¢ƒå˜é‡</span>
api_key <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">&quot;OPENAI_API_KEY&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-é”™è¯¯å¤„ç†" aria-hidden="true">#</a> 3. é”™è¯¯å¤„ç†</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>schema <span class="token keyword">import</span> StrOutputParser

<span class="token comment"># æ·»åŠ é”™è¯¯å¤„ç†</span>
<span class="token keyword">def</span> <span class="token function">safe_chain_run</span><span class="token punctuation">(</span>chain<span class="token punctuation">,</span> input_text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        result <span class="token operator">=</span> chain<span class="token punctuation">.</span>run<span class="token punctuation">(</span>input_text<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token comment"># è®°å½•é”™è¯¯</span>
        logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Chainæ‰§è¡Œå¤±è´¥: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token comment"># è¿”å›å‹å¥½é”™è¯¯ä¿¡æ¯</span>
        <span class="token keyword">return</span> <span class="token string">&quot;æŠ±æ­‰ï¼Œå¤„ç†æ‚¨çš„è¯·æ±‚æ—¶é‡åˆ°äº†é—®é¢˜ã€‚&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç”Ÿæ€ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæ€ç³»ç»Ÿ" aria-hidden="true">#</a> ç”Ÿæ€ç³»ç»Ÿ</h2><h3 id="_1-langchain-hub" tabindex="-1"><a class="header-anchor" href="#_1-langchain-hub" aria-hidden="true">#</a> 1. LangChain Hub</h3><p><strong>åŠŸèƒ½ï¼š</strong></p><ul><li>é¢„æ„å»ºçš„Chainæ¨¡æ¿</li><li>ç¤¾åŒºè´¡çŒ®çš„Agent</li><li>å·¥å…·é›†æˆç¤ºä¾‹</li></ul><h3 id="_2-ç¤¾åŒºèµ„æº" tabindex="-1"><a class="header-anchor" href="#_2-ç¤¾åŒºèµ„æº" aria-hidden="true">#</a> 2. ç¤¾åŒºèµ„æº</h3><ul><li><strong>GitHub</strong>ï¼š11.8ä¸‡æ˜Ÿï¼Œ1.94ä¸‡åˆ†æ”¯</li><li><strong>Discord</strong>ï¼šæ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒº</li><li><strong>æ–‡æ¡£</strong>ï¼šè¯¦å°½çš„APIæ–‡æ¡£å’Œæ•™ç¨‹</li><li><strong>æ•™ç¨‹</strong>ï¼šä¸°å¯Œçš„å­¦ä¹ èµ„æº</li></ul><h3 id="_3-é›†æˆç”Ÿæ€" tabindex="-1"><a class="header-anchor" href="#_3-é›†æˆç”Ÿæ€" aria-hidden="true">#</a> 3. é›†æˆç”Ÿæ€</h3><p><strong>æ”¯æŒçš„é›†æˆï¼š</strong></p><ul><li>æ•°æ®åº“ï¼šPostgreSQLã€MongoDBã€Redis</li><li>äº‘æœåŠ¡ï¼šAWSã€Azureã€GCP</li><li>å·¥å…·ï¼šJupyterã€VS Codeã€GitHub Actions</li><li>å¹³å°ï¼šSlackã€Teamsã€Discord</li></ul><h2 id="æœªæ¥å±•æœ›" tabindex="-1"><a class="header-anchor" href="#æœªæ¥å±•æœ›" aria-hidden="true">#</a> æœªæ¥å±•æœ›</h2><h3 id="_2026å¹´å‘å±•è¶‹åŠ¿" tabindex="-1"><a class="header-anchor" href="#_2026å¹´å‘å±•è¶‹åŠ¿" aria-hidden="true">#</a> 2026å¹´å‘å±•è¶‹åŠ¿</h3><ol><li><p><strong>å¤šæ¨¡æ€Agent</strong></p><ul><li>åŸç”Ÿæ”¯æŒå›¾åƒã€è§†é¢‘ã€éŸ³é¢‘</li><li>è·¨æ¨¡æ€ç†è§£ä¸ç”Ÿæˆ</li></ul></li><li><p><strong>è¾¹ç¼˜éƒ¨ç½²</strong></p><ul><li>è½»é‡åŒ–Agentæ¡†æ¶</li><li>æœ¬åœ°åŒ–æ¨ç†ä¼˜åŒ–</li></ul></li><li><p><strong>è‡ªä¸»å­¦ä¹ </strong></p><ul><li>Agentè‡ªæˆ‘ä¼˜åŒ–</li><li>ç»éªŒç§¯ç´¯ä¸å¤ç”¨</li></ul></li><li><p><strong>æ ‡å‡†åŒ–åè®®</strong></p><ul><li>MCPï¼ˆModel Context Protocolï¼‰</li><li>A2Aï¼ˆAgent-to-Agentï¼‰åè®®</li></ul></li></ol><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>LangChainå·²ç»ä»ä¸€ä¸ªç®€å•çš„å·¥å…·é“¾é¡¹ç›®ï¼Œå‘å±•æˆä¸ºAIæ™ºèƒ½ä½“çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚é€šè¿‡LangChainã€LangGraphå’ŒLangSmithä¸‰å¤§æ ¸å¿ƒäº§å“ï¼Œå®ƒä¸ºå¼€å‘è€…æä¾›äº†å®Œæ•´çš„æ™ºèƒ½ä½“å¼€å‘ã€éƒ¨ç½²å’Œç›‘æ§è§£å†³æ–¹æ¡ˆã€‚</p><p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p><ul><li>æ¨¡å—åŒ–è®¾è®¡ï¼Œçµæ´»å¯æ‰©å±•</li><li>ä¸°å¯Œçš„å·¥å…·ç”Ÿæ€</li><li>å¼ºå¤§çš„ç¤¾åŒºæ”¯æŒ</li><li>ä¼ä¸šçº§å¯é æ€§</li></ul><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ä¼ä¸šçŸ¥è¯†åº“é—®ç­”</li><li>æ™ºèƒ½å®¢æœç³»ç»Ÿ</li><li>æ–‡æ¡£åˆ†æä¸å¤„ç†</li><li>ä»£ç ç”Ÿæˆä¸å®¡æŸ¥</li><li>å¤šAgentåä½œç³»ç»Ÿ</li></ul><p>éšç€AIæ™ºèƒ½ä½“æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼ŒLangChainå°†ç»§ç»­æ¼”è¿›ï¼Œä¸ºæ„å»ºæ›´åŠ æ™ºèƒ½ã€è‡ªä¸»çš„AIç³»ç»Ÿæä¾›å¼ºå¤§çš„æŠ€æœ¯æ”¯æ’‘ã€‚</p><hr><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><ul><li><a href="https://python.langchain.com/" target="_blank" rel="noopener noreferrer">LangChainå®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/langchain-ai/langchain" target="_blank" rel="noopener noreferrer">LangChain GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noopener noreferrer">LangGraphæ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">æœ€åæ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 491750329@qq.com">kevin12369</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-D2t769wk.js" defer></script>
  </body>
</html>
