---
icon: edit
date: 2020-04-10
category:
  - ThingsBoard
tag:
  - ThingsBoard
---

# 什么是ThingsBoard

## ThingsBoard是什么？

  - ThingsBoard是一个开源物联网平台，可实现物联网项目的快速开发、管理和扩展。
  - 目标是提供成熟的IoT云或本地解决方案以此做为您的IoT应用程序服务端基础架构。

## 特点

  - ThingsBoard可用于：
     - 设备管理，资产和客户并定义他们之间的关系。
     - 基于设备和资产收集数据并进行可视化。
     - 采集遥测数据并进行相关的事件处理进行警报响应。
     - 基于远程RPC调用进行设备控制。
     - 基于生命周期事件、REST API事件、RPC请求构建工作流。
     - 基于动态设计和响应仪表板向你的客户提供设备或资产的遥测数据。
     - 基于规则链自定义特定功能。
     - 发布设备数据至第三方系统。


## 架构

  ![ThingsBoard的架构](/thingsboard-架构图.png "ThingsBoard的架构")


  - __ThingsBoard传输__

    ThingsBoard提供了基于MQTT、HTTP 和 CoAP 的API，适用于你的设备应用程序/固件。

    每个协议API都是由单独的服务器组件提供的并且是ThingsBoard“传输层”的一部分。

    MQTT传输还提供网关API供代表多个已连接设备和/或传感器的网关使用。

    传输从设备接收到消息后，它将被解析并推送到持久的消息队列。

    仅在消息队列确认了相应消息后才将消息传递给设备。

  - __ThingsBoard核心__

    ThingsBoard Core负责处理REST API调用和WebSocket 订阅。

    它还负责存储有关活动设备会话和监视设备连接状态。

    ThingsBoard核心在幕后使用Actor来实现主要实体（租户和设备）的actor。

    平台节点可以加入群集其中每个节点负责传入消息的某些分区。

  - __ThingsBoard规则引擎__

    ThingsBoard规则引擎是系统的心脏负责处理传入的 消息。

    规则引擎在幕后使用Actor来实现主要实体的actor：规则链和规则节点。

    规则引擎节点可以加入集群，其中每个节点负责传入消息的某些分区。

    规则引擎从队列中订阅传入的数据并且仅在处理完消息后才对其进行确认。

    有多种策略可用于控制顺序或消息处理以及消息确认的标准。 请参阅 提交策略 处理 处理策略。

    ThingsBoard规则引擎可能以两种模式运行：共享和隔离

    在共享模式下规则引擎处理多个租户的消息。

    在隔离模式下规则引擎处理特定租户的消息。
    
  - __ThingsBoard Web UI__

    ThingsBoard提供了一个使用Express.js框架编写的轻量级组件，用于承载静态Web ui内容。

    这些组件是完全无状态的，没有太多可用的配置。

    静态Web UI包含应用程序捆绑包加载后该应用程序将开始使用ThingsBoard核心提供的REST API和WebSockets API。

## 设计原则

  - 高扩展: 使用领先开源技术构建的可水平扩展平台。
  - 高容错：无单点故障集群中的每个节点都是相同的。
  - 高性能：单个服务器节点可以根据用例处理几十甚至数十万个设备，集群可以处理数百万台设备。
  - 高灵活：开发新功能可以方便的使用自定义部件、规则引擎等。
  - 持久化：数据永久保存
